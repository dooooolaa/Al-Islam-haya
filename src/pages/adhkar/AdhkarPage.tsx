import React, { useState, useEffect } from 'react';
import { motion } from 'framer-motion';
import { Tabs, TabsContent, TabsList, TabsTrigger } from "../../components/ui/tabs";
import { Card, CardContent, CardDescription, CardHeader, CardTitle } from "../../components/ui/card";
import { Book, Moon, Sun, Repeat, BookOpen } from 'lucide-react';

// أذكار الصباح والمساء
const morningEveningAdhkar = [
  {
    id: 1,
    text: "أَعُوذُ بِاللَّهِ مِنَ الشَّيطَانِ الرَّجِيمِ ﴿اللَّهُ لاَ إِلَهَ إِلاَّ هُوَ الْحَيُّ الْقَيُّومُ لاَ تَأْخُذُهُ سِنَةٌ وَلاَ نَوْمٌ لَّهُ مَا فِي السَّمَوَاتِ وَمَا فِي الأَرْضِ مَن ذَا الَّذِي يَشْفَعُ عِنْدَهُ إِلاَّ بِإِذْنِهِ يَعْلَمُ مَا بَيْنَ أَيْدِيهِمْ وَمَا خَلْفَهُمْ وَلاَ يُحِيطُونَ بِشَيْءٍ مِّنْ عِلْمِهِ إِلاَّ بِمَا شَاء وَسِعَ كُرْسِيُّهُ السَّمَوَاتِ وَالْأَرْضَ وَلاَ يَؤُودُهُ حِفْظُهُمَا وَهُوَ الْعَلِيُّ الْعَظِيمُ﴾.",
    count: 1,
    source: "البقرة: 255",
    benefit: "من قالها حين يصبح أجير من الجن حتى يمسي، ومن قالها حين يمسي أجير من الجن حتى يصبح"
  },
  {
    id: 2,
    text: "بسم الله الرحمن الرحيم ﴿قُلْ هُوَ اللَّهُ أَحَدٌ* اللَّهُ الصَّمَدُ* لَمْ يَلِدْ وَلَمْ يُولَدْ* وَلَمْ يَكُن لَّهُ كُفُواً أَحَدٌ﴾. بسم الله الرحمن الرحيم ﴿قُلْ أَعُوذُ بِرَبِّ الْفَلَقِ* مِن شَرِّ مَا خَلَقَ* وَمِن شَرِّ غَاسِقٍ إِذَا وَقَبَ* وَمِن شَرِّ النَّفَّاثَاتِ فِي الْعُقَدِ* وَمِن شَرِّ حَاسِدٍ إِذَا حَسَدَ﴾. بسم الله الرحمن الرحيم ﴿قُلْ أَعُوذُ بِرَبِّ النَّاسِ* مَلِكِ النَّاسِ* إِلَهِ النَّاسِ* مِن شَرِّ الْوَسْوَاسِ الْخَنَّاسِ* الَّذِي يُوَسْوِسُ فِي صُدُورِ النَّاسِ* مِنَ الْجِنَّةِ وَ النَّاسِ﴾",
    count: 3,
    source: "الإخلاص والمعوذتين",
    benefit: "من قالها حين يصبح وحين يمسي ثلاث مرات كفته من كل شيء"
  },
  {
    id: 3,
    text: "أَصْبَحْنَا وَأَصْبَحَ الْمُلْكُ لِلَّهِ، وَالْحَمْدُ لِلَّهِ، لاَ إِلَهَ إلاَّ اللَّهُ وَحْدَهُ لاَ شَرِيكَ لَهُ، لَهُ الْمُلْكُ وَلَهُ الْحَمْدُ وَهُوَ عَلَى كُلِّ شَيْءٍ قَدِيرٌ، رَبِّ أَسْأَلُكَ خَيْرَ مَا فِي هَذَا الْيَوْمِ وَخَيرَ مَا بَعْدَهُ، وَأَعُوذُ بِكَ مِنْ شَرِّ مَا فِي هَذَا الْيَوْمِ وَشَرِّ مَا بَعْدَهُ، رَبِّ أَعُوذُ بِكَ مِنَ الْكَسَلِ وَسُوءِ الْكِبَرِ، رَبِّ أَعُوذُ بِكَ مِنْ عَذَابٍ فِي النَّارِ وَعَذَابٍ فِي الْقَبْرِ",
    count: 1,
    source: "رواه مسلم",
    benefit: "وإذا أمسى قال: أمسينا وأمسى الملك للَّه... ويقول: رب أسألك خير ما في هذه الليلة، وخير ما بعدها، وأعوذ بك من شر ما في هذه الليلة، وشر ما بعدها"
  },
  {
    id: 4,
    text: "اللَّهُمَّ بِكَ أَصْبَحْنَا، وَبِكَ أَمْسَيْنَا، وَبِكَ نَحْيَا، وَبِكَ نَمُوتُ وَإِلَيْكَ النُّشُورُ",
    count: 1,
    source: "رواه الترمذي وأبو داود",
    benefit: "وإذا أمسى قال: اللَّهم بك أمسينا، وبك أصبحنا، وبك نحيا، وبك نموت، وإليك المصير"
  },
  {
    id: 5,
    text: "اللَّهُمَّ أَنْتَ رَبِّي لَا إِلَهَ إِلاَّ أَنْتَ، خَلَقْتَنِي وَأَنَا عَبْدُكَ، وَأَنَا عَلَى عَهْدِكَ وَوَعْدِكَ مَا اسْتَطَعْتُ، أَعُوذُ بِكَ مِنْ شَرِّ مَا صَنَعْتُ، أَبُوءُ لَكَ بِنِعْمَتِكَ عَلَيَّ، وَأَبُوءُ بِذَنْبِي فَاغْفِرْ لِي فَإِنَّهُ لاَ يَغْفِرُ الذُّنوبَ إِلاَّ أَنْتَ",
    count: 1,
    source: "رواه البخاري",
    benefit: "من قالها موقناً بها حين يمسي فمات من ليلته دخل الجنة، وكذلك حين يصبح"
  },
  {
    id: 6,
    text: "اللَّهُمَّ إِنِّي أَصْبَحْتُ أُشْهِدُكَ، وَأُشْهِدُ حَمَلَةَ عَرْشِكَ، وَمَلاَئِكَتِكَ، وَجَمِيعَ خَلْقِكَ، أَنَّكَ أَنْتَ اللَّهُ لاَ إِلَهَ إِلاَّ أَنْتَ وَحْدَكَ لاَ شَرِيكَ لَكَ، وَأَنَّ مُحَمَّداً عَبْدُكَ وَرَسُولُكَ",
    count: 4,
    source: "رواه أبو داود",
    benefit: "من قالها أعتقه الله من النار"
  },
  {
    id: 7,
    text: "اللَّهُمَّ مَا أَصْبَحَ بِي مِنْ نِعْمَةٍ أَوْ بِأَحَدٍ مِنْ خَلْقِكَ فَمِنْكَ وَحْدَكَ لاَ شَرِيكَ لَكَ، فَلَكَ الْحَمْدُ وَلَكَ الشُّكْرُ",
    count: 1,
    source: "رواه أبو داود",
    benefit: "من قالها حين يصبح أدى شكر يومه"
  },
  {
    id: 8,
    text: "اللَّهُمَّ عَافِنِي فِي بَدَنِي، اللَّهُمَّ عَافِنِي فِي سَمْعِي، اللَّهُمَّ عَافِنِي فِي بَصَرِي، لاَ إِلَهَ إِلاَّ أَنْتَ. اللَّهُمَّ إِنِّي أَعُوذُ بِكَ مِنَ الْكُفْرِ، وَالفَقْرِ، وَأَعُوذُ بِكَ مِنْ عَذَابِ القَبْرِ، لاَ إِلَهَ إِلاَّ أَنْتَ",
    count: 3,
    source: "رواه أبو داود والترمذي",
    benefit: "من قالها ثلاثاً إذا أصبح وثلاثاً إذا أمسى كان حقاً على الله أن يرضيه يوم القيامة"
  },
  {
    id: 9,
    text: "حَسْبِيَ اللَّهُ لاَ إِلَهَ إِلاَّ هُوَ عَلَيهِ تَوَكَّلتُ وَهُوَ رَبُّ الْعَرْشِ الْعَظِيمِ",
    count: 7,
    source: "رواه أبو داود",
    benefit: "من قالها حين يصبح وحين يمسي سبع مرات كفاه الله ما أهمه من أمر الدنيا والآخرة"
  },
  {
    id: 10,
    text: "بِسْمِ اللَّهِ الَّذِي لاَ يَضُرُّ مَعَ اسْمِهِ شَيْءٌ فِي الْأَرْضِ وَلاَ فِي السّمَاءِ وَهُوَ السَّمِيعُ الْعَلِيمُ",
    count: 3,
    source: "رواه أبو داود والترمذي وابن ماجه",
    benefit: "من قالها ثلاثاً إذا أصبح وثلاثاً إذا أمسى لم يضره شيء"
  }
];

// أذكار النوم
const sleepAdhkar = [
  {
    id: 1,
    text: "يَجْمَعُ كَفَّيْهِ ثُمَّ يَنْفُثُ فِيهِمَا فَيَقْرَأُ فِيهِمَا: بسم الله الرحمن الرحيم ﴿قُلْ هُوَ اللَّهُ أَحَدٌ * اللَّهُ الصَّمَدُ* لَمْ يَلِدْ وَلَمْ يُولَدْ* وَلَمْ يَكُن لَّهُ كُفُواً أَحَدٌ﴾. بسم الله الرحمن الرحيم ﴿قُلْ أَعُوذُ بِرَبِّ الْفَلَقِ* مِن شَرِّ مَا خَلَقَ* وَمِن شَرِّ غَاسِقٍ إِذَا وَقَبَ* وَمِن شَرِّ النَّفَّاثَاتِ فِي الْعُقَدِ* وَمِن شَرِّ حَاسِدٍ إِذَا حَسَدَ﴾. بسم الله الرحمن الرحيم ﴿قُلْ أَعُوذُ بِرَبِّ النَّاسِ* مَلِكِ النَّاسِ* إِلَهِ النَّاسِ* مِن شَرِّ الْوَسْوَاسِ الْخَنَّاسِ* الَّذِي يُوَسْوِسُ فِي صُدُورِ النَّاسِ* مِنَ الْجِنَّةِ وَ النَّاسِ﴾ ثُمَّ يَمْسَحُ بِهِمَا مَا اسْتَطَاعَ مِنْ جَسَدِهِ يَبْدَأُ بِهِمَا عَلَى رَأْسِهِ وَوَجْهِهِ وَمَا أَقبَلَ مِنْ جَسَدِهِ",
    count: 3,
    source: "رواه البخاري",
    benefit: "يفعل ذلك ثلاث مرات"
  },
  {
    id: 2,
    text: "﴿اللَّهُ لاَ إِلَهَ إِلاَّ هُوَ الْحَيُّ الْقَيُّومُ لاَ تَأْخُذُهُ سِنَةٌ وَلاَ نَوْمٌ لَّهُ مَا فِي السَّمَوَاتِ وَمَا فِي الأَرْضِ مَن ذَا الَّذِي يَشْفَعُ عِنْدَهُ إِلاَّ بِإِذْنِهِ يَعْلَمُ مَا بَيْنَ أَيْدِيهِمْ وَمَا خَلْفَهُمْ وَلاَ يُحِيطُونَ بِشَيْءٍ مِّنْ عِلْمِهِ إِلاَّ بِمَا شَاء وَسِعَ كُرْسِيُّهُ السَّمَوَاتِ وَالأَرْضَ وَلاَ يَؤُودُهُ حِفْظُهُمَا وَهُوَ الْعَلِيُّ الْعَظِيمُ﴾",
    count: 1,
    source: "البقرة: 255",
    benefit: "من قرأها عند النوم لم يزل عليه من الله حافظ ولا يقربه شيطان حتى يصبح"
  },
  {
    id: 3,
    text: "بِاسْمِكَ رَبِّي وَضَعْتُ جَنْبِي، وَبِكَ أَرْفَعُهُ، فَإِن أَمْسَكْتَ نَفْسِي فارْحَمْهَا، وَإِنْ أَرْسَلْتَهَا فَاحْفَظْهَا، بِمَا تَحْفَظُ بِهِ عِبَادَكَ الصَّالِحِينَ",
    count: 1,
    source: "رواه البخاري ومسلم",
    benefit: "دعاء النوم"
  },
  {
    id: 4,
    text: "اللَّهُمَّ إِنَّكَ خَلَقْتَ نَفْسِي وَأَنْتَ تَوَفَّاهَا، لَكَ مَمَاتُهَا وَمَحْياهَا، إِنْ أَحْيَيْتَهَا فَاحْفَظْهَا، وَإِنْ أَمَتَّهَا فَاغْفِرْ لَهَا. اللَّهُمَّ إِنِّي أَسْأَلُكَ العَافِيَةَ",
    count: 1,
    source: "رواه مسلم",
    benefit: "دعاء النوم"
  },
  {
    id: 5,
    text: "اللَّهُمَّ قِنِي عَذَابَكَ يَوْمَ تَبْعَثُ عِبَادَكَ",
    count: 3,
    source: "رواه أبو داود",
    benefit: "كان النبي ﷺ إذا أراد أن يرقد وضع يده اليمنى تحت خده ثم يقول هذا الدعاء ثلاث مرات"
  },
  {
    id: 6,
    text: "بِاسْمِكَ اللَّهُمَّ أَمُوتُ وَأَحْيَا",
    count: 1,
    source: "رواه البخاري",
    benefit: "دعاء النوم"
  },
  {
    id: 7,
    text: "سُبْحَانَ اللَّهِ (ثلاثاً وثلاثين) وَالْحَمْدُ لِلَّهِ (ثلاثاً وثلاثين) وَاللَّهُ أَكْبَرُ (أربعاً وثلاثينَ)",
    count: 1,
    source: "رواه البخاري",
    benefit: "هذا خير لكما من خادم"
  },
  {
    id: 8,
    text: "اللَّهُمَّ أَسْلَمْتُ نَفْسِي إِلَيْكَ، وَفَوَّضْتُ أَمْرِي إِلَيْكَ، وَوَجَّهْتُ وَجْهِي إِلَيْكَ، وَأَلْجَأْتُ ظَهْرِي إِلَيْكَ، رَغْبَةً وَرَهْبَةً إِلَيْكَ، لاَ مَلْجَأَ وَلاَ مَنْجَا مِنْكَ إِلاَّ إِلَيْكَ، آمَنْتُ بِكِتَابِكَ الَّذِي أَنْزَلْتَ، وَبِنَبِيِّكَ الَّذِي أَرْسَلْتَ",
    count: 1,
    source: "رواه البخاري ومسلم",
    benefit: "من قالها ثم مات في ليلته مات على الفطرة"
  }
];

// أذكار الاستيقاظ
const wakeupAdhkar = [
  {
    id: 1,
    text: "الْحَمْدُ لِلَّهِ الَّذِي أَحْيَانَا بَعْدَ مَا أَمَاتَنَا وَإِلَيْهِ النُّشُورُ",
    count: 1,
    source: "رواه البخاري",
    benefit: "ذكر الاستيقاظ من النوم"
  },
  {
    id: 2,
    text: "لاَ إِلَهَ إِلاَّ اللَّهُ وَحْدَهُ لاَ شَرِيكَ لَهُ، لَهُ الْمُلْكُ وَلَهُ الْحَمْدُ، وَهُوَ عَلَى كُلِّ شَيْءٍ قَدِيرٌ، سُبْحَانَ اللَّهِ، وَالْحَمْدُ لِلَّهِ، وَلاَ إِلَهَ إِلاَّ اللَّهُ، وَاللَّهُ أَكْبَرُ، وَلاَ حَوْلَ وَلاَ قُوَّةَ إِلاَّ بِاللَّهِ الْعَلِيِّ الْعَظِيمِ، رَبِّ اغْفِرْ لِي",
    count: 1,
    source: "رواه البخاري",
    benefit: "من قالها غفر له، فإن دعا استجيب له، فإن توضأ وصلى قبلت صلاته"
  },
  {
    id: 3,
    text: "الْحَمْدُ لِلَّهِ الَّذِي عَافَانِي فِي جَسَدِي، وَرَدَّ عَلَيَّ رُوحِي، وَأَذِنَ لِي بِذِكْرِهِ",
    count: 1,
    source: "رواه الترمذي",
    benefit: "ذكر الاستيقاظ من النوم"
  }
];

// أذكار بعد الصلاة
const afterPrayerAdhkar = [
  {
    id: 1,
    text: "أَسْتَغْفِرُ اللَّهَ (ثلاثاً) اللَّهُمَّ أَنْتَ السَّلاَمُ، وَمِنْكَ السَّلاَمُ، تَبَارَكْتَ يَا ذَا الْجَلاَلِ وَالْإِكْرَامِ",
    count: 1,
    source: "رواه مسلم",
    benefit: "كان النبي ﷺ إذا انصرف من صلاته استغفر ثلاثاً وقال: اللهم أنت السلام..."
  },
  {
    id: 2,
    text: "لاَ إِلَهَ إِلاَّ اللَّهُ وَحْدَهُ لاَ شَرِيكَ لَهُ، لَهُ الْمُلْكُ وَلَهُ الْحَمْدُ وَهُوَ عَلَى كُلِّ شَيْءٍ قَدِيرٌ، اللَّهُمَّ لاَ مَانِعَ لِمَا أَعْطَيْتَ، وَلاَ مُعْطِيَ لِمَا مَنَعْتَ، وَلاَ يَنْفَعُ ذَا الْجَدِّ مِنْكَ الْجَدُّ",
    count: 1,
    source: "رواه البخاري ومسلم",
    benefit: "ذكر بعد السلام من الصلاة"
  },
  {
    id: 3,
    text: "لاَ إِلَهَ إِلاَّ اللَّهُ وَحْدَهُ لاَ شَرِيكَ لَهُ، لَهُ الْمُلْكُ وَلَهُ الْحَمْدُ وَهُوَ عَلَى كُلِّ شَيْءٍ قَدِيرٌ، لاَ حَوْلَ وَلاَ قُوَّةَ إِلاَّ بِاللَّهِ، لاَ إِلَهَ إِلاَّ اللَّهُ، وَلاَ نَعْبُدُ إِلاَّ إِيَّاهُ، لَهُ النِّعْمَةُ وَلَهُ الْفَضْلُ وَلَهُ الثَّنَاءُ الْحَسَنُ، لاَ إِلَهَ إِلاَّ اللَّهُ مُخْلِصِينَ لَهُ الدِّينَ وَلَوْ كَرِهَ الْكَافِرُونَ",
    count: 1,
    source: "رواه مسلم",
    benefit: "ذكر بعد السلام من الصلاة"
  },
  {
    id: 4,
    text: "سُبْحَانَ اللَّهِ (ثلاثاً وثلاثين) وَالْحَمْدُ لِلَّهِ (ثلاثاً وثلاثين) وَاللَّهُ أَكْبَرُ (ثلاثاً وثلاثين) ثم يقول تمام المائة: لاَ إِلَهَ إِلاَّ اللَّهُ وَحْدَهُ لاَ شَرِيكَ لَهُ، لَهُ الْمُلْكُ وَلَهُ الْحَمْدُ وَهُوَ عَلَى كُلِّ شَيْءٍ قَدِيرٌ",
    count: 1,
    source: "رواه مسلم",
    benefit: "من سبح الله دبر كل صلاة ثلاثاً وثلاثين، وحمد الله ثلاثاً وثلاثين، وكبر الله ثلاثاً وثلاثين، فتلك تسعة وتسعون، وقال تمام المائة: لا إله إلا الله وحده لا شريك له، له الملك وله الحمد وهو على كل شيء قدير، غفرت خطاياه وإن كانت مثل زبد البحر"
  },
  {
    id: 5,
    text: "﴿قُلْ هُوَ اللَّهُ أَحَدٌ * اللَّهُ الصَّمَدُ * لَمْ يَلِدْ وَلَمْ يُولَدْ * وَلَمْ يَكُن لَّهُ كُفُواً أَحَدٌ﴾ ﴿قُلْ أَعُوذُ بِرَبِّ الْفَلَقِ * مِن شَرِّ مَا خَلَقَ * وَمِن شَرِّ غَاسِقٍ إِذَا وَقَبَ * وَمِن شَرِّ النَّفَّاثَاتِ فِي الْعُقَدِ * وَمِن شَرِّ حَاسِدٍ إِذَا حَسَدَ﴾ ﴿قُلْ أَعُوذُ بِرَبِّ النَّاسِ * مَلِكِ النَّاسِ * إِلَهِ النَّاسِ * مِن شَرِّ الْوَسْوَاسِ الْخَنَّاسِ * الَّذِي يُوَسْوِسُ فِي صُدُورِ النَّاسِ * مِنَ الْجِنَّةِ وَ النَّاسِ﴾",
    count: 1,
    source: "رواه أبو داود والترمذي والنسائي",
    benefit: "من قرأ المعوذات بعد كل صلاة"
  },
  {
    id: 6,
    text: "﴿اللَّهُ لاَ إِلَهَ إِلاَّ هُوَ الْحَيُّ الْقَيُّومُ لاَ تَأْخُذُهُ سِنَةٌ وَلاَ نَوْمٌ لَّهُ مَا فِي السَّمَوَاتِ وَمَا فِي الأَرْضِ مَن ذَا الَّذِي يَشْفَعُ عِنْدَهُ إِلاَّ بِإِذْنِهِ يَعْلَمُ مَا بَيْنَ أَيْدِيهِمْ وَمَا خَلْفَهُمْ وَلاَ يُحِيطُونَ بِشَيْءٍ مِّنْ عِلْمِهِ إِلاَّ بِمَا شَاء وَسِعَ كُرْسِيُّهُ السَّمَوَاتِ وَالأَرْضَ وَلاَ يَؤُودُهُ حِفْظُهُمَا وَهُوَ الْعَلِيُّ الْعَظِيمُ﴾",
    count: 1,
    source: "رواه النسائي",
    benefit: "من قرأ آية الكرسي دبر كل صلاة مكتوبة لم يمنعه من دخول الجنة إلا أن يموت"
  },
  {
    id: 7,
    text: "لاَ إِلَهَ إِلاَّ اللَّهُ وَحْدَهُ لاَ شَرِيكَ لَهُ، لَهُ الْمُلْكُ وَلَهُ الْحَمْدُ يُحْيِي وَيُمِيتُ وَهُوَ عَلَى كُلِّ شَيْءٍ قَدِيرٌ",
    count: 10,
    source: "رواه الترمذي",
    benefit: "من قالها عشر مرات بعد المغرب والصبح كتب الله له عشر حسنات، ومحا عنه عشر سيئات، ورفع له عشر درجات، وكانت حرزاً من الشيطان، ومن كل مكروه، ولم يحل لذنب أن يدركه إلا الشرك بالله"
  }
];

// أدعية متنوعة
const diverseDuas = [
  {
    id: 1,
    text: "اللَّهُمَّ إِنِّي أَعُوذُ بِكَ مِنَ الْهَمِّ وَالْحَزَنِ، وَالْعَجْزِ وَالْكَسَلِ، وَالْبُخْلِ وَالْجُبْنِ، وَضَلَعِ الدَّيْنِ، وَغَلَبَةِ الرِّجَالِ",
    count: 1,
    source: "رواه البخاري",
    benefit: "دعاء الهم والحزن"
  },
  {
    id: 2,
    text: "اللَّهُمَّ رَحْمَتَكَ أَرْجُو، فَلاَ تَكِلْنِي إِلَى نَفْسِي طَرْفَةَ عَيْنٍ، وَأَصْلِحْ لِي شَأْنِي كُلَّهُ، لاَ إِلَهَ إِلاَّ أَنْتَ",
    count: 1,
    source: "رواه أبو داود",
    benefit: "دعاء الكرب"
  },
  {
    id: 3,
    text: "لاَ إِلَهَ إِلاَّ اللَّهُ الْعَظِيمُ الْحَلِيمُ، لاَ إِلَهَ إِلاَّ اللَّهُ رَبُّ الْعَرْشِ الْعَظِيمِ، لاَ إِلَهَ إِلاَّ اللَّهُ رَبُّ السَّمَوَاتِ وَرَبُّ الْأَرْضِ وَرَبُّ الْعَرْشِ الْكَرِيمِ",
    count: 1,
    source: "رواه البخاري ومسلم",
    benefit: "دعاء الكرب"
  },
  {
    id: 4,
    text: "اللَّهُمَّ إِنِّي عَبْدُكَ، ابْنُ عَبْدِكَ، ابْنُ أَمَتِكَ، نَاصِيَتِي بِيَدِكَ، مَاضٍ فِيَّ حُكْمُكَ، عَدْلٌ فِيَّ قَضَاؤُكَ، أَسْأَلُكَ بِكُلِّ اسْمٍ هُوَ لَكَ، سَمَّيْتَ بِهِ نَفْسَكَ، أَوْ أَنْزَلْتَهُ فِي كِتَابِكَ، أَوْ عَلَّمْتَهُ أَحَداً مِنْ خَلْقِكَ، أَوِ اسْتَأْثَرْتَ بِهِ فِي عِلْمِ الْغَيْبِ عِنْدَكَ، أَنْ تَجْعَلَ الْقُرْآنَ رَبِيعَ قَلْبِي، وَنُورَ صَدْرِي، وَجَلاَءَ حُزْنِي، وَذَهَابَ هَمِّي",
    count: 1,
    source: "رواه أحمد",
    benefit: "دعاء الهم والحزن"
  },
  {
    id: 5,
    text: "اللَّهُمَّ إِنِّي أَعُوذُ بِكَ مِنْ زَوَالِ نِعْمَتِكَ، وَتَحَوُّلِ عَافِيَتِكَ، وَفُجَاءَةِ نِقْمَتِكَ، وَجَمِيعِ سَخَطِكَ",
    count: 1,
    source: "رواه مسلم",
    benefit: "دعاء للحفظ من زوال النعم"
  }
];

const AdhkarPage: React.FC = () => {
  const [activeTab, setActiveTab] = useState("morning-evening");
  const [counts, setCounts] = useState<Record<string, number>>({});

  const incrementCount = (id: string) => {
    setCounts(prev => ({
      ...prev,
      [id]: (prev[id] || 0) + 1
    }));
  };

  const resetCount = (id: string) => {
    setCounts(prev => ({
      ...prev,
      [id]: 0
    }));
  };

  const getAdhkarList = () => {
    switch (activeTab) {
      case "morning-evening":
        return morningEveningAdhkar;
      case "sleep":
        return sleepAdhkar;
      case "wakeup":
        return wakeupAdhkar;
      case "after-prayer":
        return afterPrayerAdhkar;
      case "diverse-duas":
        return diverseDuas;
      default:
        return morningEveningAdhkar;
    }
  };

  const getTabIcon = () => {
    switch (activeTab) {
      case "morning-evening":
        return <Sun className="ml-2 h-5 w-5" />;
      case "sleep":
        return <Moon className="ml-2 h-5 w-5" />;
      case "wakeup":
        return <Sun className="ml-2 h-5 w-5" />;
      case "after-prayer":
        return <BookOpen className="ml-2 h-5 w-5" />;
      case "diverse-duas":
        return <Book className="ml-2 h-5 w-5" />;
      default:
        return <Sun className="ml-2 h-5 w-5" />;
    }
  };

  const getTabTitle = () => {
    switch (activeTab) {
      case "morning-evening":
        return "أذكار الصباح والمساء";
      case "sleep":
        return "أذكار النوم";
      case "wakeup":
        return "أذكار الاستيقاظ";
      case "after-prayer":
        return "أذكار بعد الصلاة";
      case "diverse-duas":
        return "أدعية متنوعة";
      default:
        return "أذكار الصباح والمساء";
    }
  };

  return (
    <div className="container-page">
      <motion.div
        initial={{ opacity: 0, y: 20 }}
        animate={{ opacity: 1, y: 0 }}
        transition={{ duration: 0.5 }}
      >
        <h1 className="section-title">الأذكار والأدعية</h1>
        
        <Tabs defaultValue="morning-evening" value={activeTab} onValueChange={setActiveTab} className="w-full">
          <TabsList className="grid grid-cols-5 mb-6">
            <TabsTrigger value="morning-evening" className="text-sm">أذكار الصباح والمساء</TabsTrigger>
            <TabsTrigger value="sleep" className="text-sm">أذكار النوم</TabsTrigger>
            <TabsTrigger value="wakeup" className="text-sm">أذكار الاستيقاظ</TabsTrigger>
            <TabsTrigger value="after-prayer" className="text-sm">أذكار بعد الصلاة</TabsTrigger>
            <TabsTrigger value="diverse-duas" className="text-sm">أدعية متنوعة</TabsTrigger>
          </TabsList>
          
          <TabsContent value={activeTab}>
            <Card className="mb-6">
              <CardHeader>
                <CardTitle className="flex items-center">
                  {getTabIcon()}
                  {getTabTitle()}
                </CardTitle>
                <CardDescription>
                  {activeTab === "morning-evening" && "أذكار تقال في الصباح والمساء لحفظ المسلم وتحصينه"}
                  {activeTab === "sleep" && "أذكار تقال عند النوم لحفظ المسلم أثناء نومه"}
                  {activeTab === "wakeup" && "أذكار تقال عند الاستيقاظ من النوم"}
                  {activeTab === "after-prayer" && "أذكار تقال بعد الانتهاء من الصلاة المفروضة"}
                  {activeTab === "diverse-duas" && "أدعية متنوعة للكرب والهم والحزن وغيرها من المواقف"}
                </CardDescription>
              </CardHeader>
            </Card>
            
            <div className="space-y-4">
              {getAdhkarList().map((dhikr) => (
                <Card key={dhikr.id} className="overflow-hidden">
                  <CardContent className="p-0">
                    <div className="p-6">
                      <div className="text-xl font-arabic mb-4">{dhikr.text}</div>
                      <div className="flex flex-wrap justify-between items-center mt-4">
                        <div className="text-sm text-gray-600 dark:text-gray-400">
                          <span className="font-medium">المصدر:</span> {dhikr.source}
                        </div>
                        <div className="flex items-center space-x-2 space-x-reverse">
                          <div className="text-sm text-gray-600 dark:text-gray-400">
                            <span className="font-medium">العدد:</span> {dhikr.count}
                          </div>
                          <div className="flex items-center bg-gray-100 dark:bg-gray-800 rounded-full px-3 py-1">
                            <button
                              onClick={() => incrementCount(`${activeTab}-${dhikr.id}`)}
                              className="text-light-accent dark:text-dark-accent hover:text-light-accent-hover dark:hover:text-dark-accent-hover transition-colors"
                            >
                              <Repeat size={16} />
                            </button>
                            <span className="mx-2 font-medium">
                              {(counts[`${activeTab}-${dhikr.id}`] || 0)} / {dhikr.count}
                            </span>
                            <button
                              onClick={() => resetCount(`${activeTab}-${dhikr.id}`)}
                              className="text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors"
                            >
                              ↺
                            </button>
                          </div>
                        </div>
                      </div>
                      {dhikr.benefit && (
                        <div className="mt-4 text-sm text-gray-600 dark:text-gray-400 bg-gray-50 dark:bg-gray-800 p-3 rounded-md">
                          <span className="font-medium">الفضل:</span> {dhikr.benefit}
                        </div>
                      )}
                    </div>
                  </CardContent>
                </Card>
              ))}
            </div>
          </TabsContent>
        </Tabs>
      </motion.div>
    </div>
  );
};

export default AdhkarPage;
